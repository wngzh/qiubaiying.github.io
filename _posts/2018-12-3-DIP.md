---
layout:     post
title:      DIP
subtitle:   test
date:       2018-12-03
author:     Wngzh
header-img: ''
catalog: true
tags:
    - test
---

# 灰度变换与空间滤波

## 空间与滤波与频率域滤波的特点以及常用的滤波器

空间域滤波是对像素直接做操作，而频率域滤波是对图像的傅里叶变换（DCT、小波）进行操作。
常用的滤波器有

1.线性滤波器。低通、高通、带通滤波器

2.非线性滤波器。最大值、最小值、中值

3.按照处理效果分类，可以分为平滑和锐化滤波。（低通、高通对应了平滑效果和锐化效果）

4.(算数)均值滤波、加权均值滤波、中值滤波--统计排序滤波

### 空间域处理的方式是掩模和图像的卷积

对于一个3x3的掩模
>R=w1z1+...+w9z9

w是掩模系数，z是对应的图像灰度值，运算结果存储在z5对应的像素中，需要新的图像矩阵，不能进行同址运算。

### 掩模处理的边界处理

1.图像边缘补0(常数)

2.边缘像素复制
范围(m-1)/2

常数填充对于原图像的影响会随着掩模的变大而变大，一般边缘像素复制更好

## 基本的灰度变换函数 翻转对数幂次 变化特点应用场合

1.图像翻转

s=L-1-r [0,L-1]

负色

增强图像暗色区域的白色或灰色细节

2.对数变化

s=clog(1+r) 扩展低输入，压缩高输入

动态范围大，超出显示范围----傅里叶频谱

3.幂次变换

s=cr^\gamma 拉伸或压缩

伽马校正：图像获取和打印装置往往是按照幂次响应，要进行修正  CRT

4.分段线性变换

-对比度拉伸：压缩两段动态范围，扩展中段动态范围

-灰度切分 突出目标轮廓 消除/保留背景细节

## 灰度直方图 应用

某种灰度级的像素个数--仅由像素出现概率，没有位置信息；图像有唯一直方图，多对一；子区直方图之和是全区直方图

1.评价成像条件，是否合理使用了灰度动态范围

2.根据直方图设计灰度映射函数进行图像增强

3.图像分割 根据灰度直方图，将像素分割成不同的类别，实现对不同景物的提取

4.图像压缩 像素出现概率和Huffman编码

## 灰度直方图获得的图像信息

图像总体性质

-明暗程度

-动态范围

-细节清晰？灰度分布均匀则细节清晰

## 直方图均衡化

s=T(r),r--[0,255]

。。。

## 中值滤波

将掩模内的中位数代替该像素的值，处理椒盐噪声效果较好

# 频率域滤波

## 微分算子

一阶二阶微分与一阶二阶微分算子--锐化空间滤波器

一阶微分 f'=f(x+1)-f(x)

二阶微分 f''=f(x+1)+f(x-1)-2f(x)

## 频率域滤波

1. 对MxN的图像补零，称为一个2Mx2N的矩阵，避免缠绕（卷积后向临周期的交叠）
2. (-1)^(x+y)做平移变换
3. 计算DFT
4. 使用中心在P/2,Q/2的大小是PxQ的实函数H(u,v)做滤波G(u,v)=H(u,v)F(u,v)
5. 做反变换取实部再*(-1)^(x+y)
6. 左上提取MxN作为结果

H的生成可以按照1、2、3两步实现（h）

## 同态滤波

消除照度不均的影响，增强图像细节

反射分量主要在高频，变化快，照射分量在低频，变化慢，反射分量反应图像的内容

1. z(x,y)=ln f(x,y)=ln i(x,y)+ln r(x,y)
2. F[z(x,y)]=F[ln i(x,y)]+F[ln r(x,y)]
3. Z(u,v)=Fi[u,v]+Fr(u,v)
4. 压缩i(x,y)，提升r(x,y)，减少低频增加高频
5. f->ln->DFT->H->IDFT->exp

S(u,v)=H(u,v)Fi(u,v)+H(u,v)Fr(u,v)

# 图像复原与重建

## 空间域和频率域的图像退化数学模型和造成退化的原因

成像系统受到各种因素的影响，在获取和传输过程中使图像质量降低的现象，例如，成像系统散焦、成像设备与物体之间的相对运动，外界环境的干扰和噪声

1. 获取过程 光学系统的像差、衍射、非线性畸变、散焦、光学元件的非线性、成像过程的相对移动、大气湍流效应、环境随机噪声
2. 传输过程 传输信道干扰

h是退化函数，n是噪声

空间：g(x,y)=h(x,y)★f(x,y)+n(x,y)

频率：G(u,v)=H(u,v)F(u,v)+N(u,v)

图象复原又称反卷积、去卷积在已有h和n的先验知识条件下去估计f

## 均值滤波、统计排序滤波

1. 算数均值滤波
   1/nm Sigma(g(x,y))
2. 几何均值滤波--会扩大黑点，因为0xN=0,相对于算数均值，能够保留更多细节--
   (Pi(g(x,y)))^(1/nm)

前两者适合处理高斯或均匀噪声

3. 谐波均值滤波--盐粒噪声、高斯噪声
   mn/(sigma(1/g(x,y)))
4. 逆谐波均值滤波--Q<0盐粒噪声Q>0胡椒噪声..Q=0算数均值，Q=-1谐波均值滤波器
   sigma(g(x,y)^(Q+1))/sigma(g(x,y)^Q)
5. 统计排序滤波
   中值滤波、最大值滤波、最小值滤波、中点滤波(max+min)/2